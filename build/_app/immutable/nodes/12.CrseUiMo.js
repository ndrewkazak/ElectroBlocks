import{s as Te,b as j,d as H,n as Le}from"../chunks/scheduler.ydM6q-DU.js";import{S as Pe,i as Ae,v as J,s as M,n as I,a as V,p as E,h as qe,d as f,b as m,r as D,l as b,t as k,k as ye,u as S,e as g,c as v,o as w,f as h,q,D as Oe,B as ge,A as Be,w as K,x as Q,m as Ne,g as ve,C as he}from"../chunks/index.DrhsS78m.js";import{e as be,u as Re,d as Fe}from"../chunks/each.Di7i0pvy.js";import{B as ke}from"../chunks/Button.C-6n3gZI.js";import{F as ie}from"../chunks/FormGroup.D8-lUVa-.js";import{I as se}from"../chunks/Input.BGMucF5x.js";import{L as ue}from"../chunks/Label.lKTK6TfW.js";import"../chunks/Theme.svelte_svelte_type_style_lang.B3rBZJtQ.js";import{a as Ue,f as Ge,d as ze}from"../chunks/db.Dxj7bgAl.js";import{s as we}from"../chunks/arduino-component-id.XfWJa0Y3.js";import{F as je}from"../chunks/FlashMessage.ri9B07jr.js";import{_ as He}from"../chunks/lodash.CGP4lIDu.js";import{o as Je}from"../chunks/alerts.DcEBuQUd.js";import{M as Ce}from"../chunks/microcontroller.BVjUfh2V.js";import{l as Ie}from"../chunks/virtual-circuit.DMf_QO9c.js";function Ee(r,t,o){const s=r.slice();return s[14]=t[o],s}function De(r){let t,o,s,n,u,i,c,e,l,p,d,W,U,T,L,G,$,y,O,le,R,z,B,ne,F,N,P,fe,A,re;s=new ie({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),c=new ie({props:{$$slots:{default:[Ye]},$$scope:{ctx:r}}});function Ve(a){r[7](a)}let ce={type:"switch",label:"Custom Led Color"};r[0].customLedColor!==void 0&&(ce.checked=r[0].customLedColor),d=new se({props:ce}),j.push(()=>J(d,"checked",Ve));let C=r[0].customLedColor&&Se(r);return O=new ie({props:{$$slots:{default:[xe]},$$scope:{ctx:r}}}),B=new ie({props:{$$slots:{default:[tt]},$$scope:{ctx:r}}}),P=new ke({props:{type:"button",color:"success",$$slots:{default:[ot]},$$scope:{ctx:r}}}),P.$on("click",r[2]),A=new ke({props:{type:"button",color:"warning",$$slots:{default:[st]},$$scope:{ctx:r}}}),A.$on("click",r[3]),{c(){t=g("div"),o=g("div"),I(s.$$.fragment),n=M(),u=g("div"),i=g("div"),I(c.$$.fragment),e=M(),l=g("div"),p=g("div"),I(d.$$.fragment),U=M(),T=g("div"),L=g("div"),C&&C.c(),G=M(),$=g("div"),y=g("div"),I(O.$$.fragment),le=M(),R=g("div"),z=g("div"),I(B.$$.fragment),ne=M(),F=g("div"),N=g("div"),I(P.$$.fragment),fe=M(),I(A.$$.fragment),this.h()},l(a){t=v(a,"DIV",{class:!0});var _=w(t);o=v(_,"DIV",{class:!0});var X=w(o);E(s.$$.fragment,X),X.forEach(f),_.forEach(f),n=V(a),u=v(a,"DIV",{class:!0});var Y=w(u);i=v(Y,"DIV",{class:!0});var Z=w(i);E(c.$$.fragment,Z),Z.forEach(f),Y.forEach(f),e=V(a),l=v(a,"DIV",{class:!0});var x=w(l);p=v(x,"DIV",{class:!0});var ee=w(p);E(d.$$.fragment,ee),ee.forEach(f),x.forEach(f),U=V(a),T=v(a,"DIV",{class:!0});var te=w(T);L=v(te,"DIV",{class:!0});var oe=w(L);C&&C.l(oe),oe.forEach(f),te.forEach(f),G=V(a),$=v(a,"DIV",{class:!0});var $e=w($);y=v($e,"DIV",{class:!0});var pe=w(y);E(O.$$.fragment,pe),pe.forEach(f),$e.forEach(f),le=V(a),R=v(a,"DIV",{class:!0});var _e=w(R);z=v(_e,"DIV",{class:!0});var me=w(z);E(B.$$.fragment,me),me.forEach(f),_e.forEach(f),ne=V(a),F=v(a,"DIV",{class:!0});var de=w(F);N=v(de,"DIV",{class:!0});var ae=w(N);E(P.$$.fragment,ae),fe=V(ae),E(A.$$.fragment,ae),ae.forEach(f),de.forEach(f),this.h()},h(){h(o,"class","col"),h(t,"class","row"),h(i,"class","col"),h(u,"class","row"),h(p,"class","col"),h(l,"class","row"),h(L,"class","col"),h(T,"class","row"),h(y,"class","col"),h($,"class","row"),h(z,"class","col"),h(R,"class","row"),h(N,"class","col"),h(F,"class","row")},m(a,_){m(a,t,_),q(t,o),D(s,o,null),m(a,n,_),m(a,u,_),q(u,i),D(c,i,null),m(a,e,_),m(a,l,_),q(l,p),D(d,p,null),m(a,U,_),m(a,T,_),q(T,L),C&&C.m(L,null),m(a,G,_),m(a,$,_),q($,y),D(O,y,null),m(a,le,_),m(a,R,_),q(R,z),D(B,z,null),m(a,ne,_),m(a,F,_),q(F,N),D(P,N,null),q(N,fe),D(A,N,null),re=!0},p(a,_){const X={};_&131073&&(X.$$scope={dirty:_,ctx:a}),s.$set(X);const Y={};_&131073&&(Y.$$scope={dirty:_,ctx:a}),c.$set(Y);const Z={};!W&&_&1&&(W=!0,Z.checked=a[0].customLedColor,H(()=>W=!1)),d.$set(Z),a[0].customLedColor?C?C.p(a,_):(C=Se(a),C.c(),C.m(L,null)):C&&(C.d(1),C=null);const x={};_&131073&&(x.$$scope={dirty:_,ctx:a}),O.$set(x);const ee={};_&131073&&(ee.$$scope={dirty:_,ctx:a}),B.$set(ee);const te={};_&131072&&(te.$$scope={dirty:_,ctx:a}),P.$set(te);const oe={};_&131072&&(oe.$$scope={dirty:_,ctx:a}),A.$set(oe)},i(a){re||(b(s.$$.fragment,a),b(c.$$.fragment,a),b(d.$$.fragment,a),b(O.$$.fragment,a),b(B.$$.fragment,a),b(P.$$.fragment,a),b(A.$$.fragment,a),re=!0)},o(a){k(s.$$.fragment,a),k(c.$$.fragment,a),k(d.$$.fragment,a),k(O.$$.fragment,a),k(B.$$.fragment,a),k(P.$$.fragment,a),k(A.$$.fragment,a),re=!1},d(a){a&&(f(t),f(n),f(u),f(e),f(l),f(U),f(T),f(G),f($),f(le),f(R),f(ne),f(F)),S(s),S(c),S(d),C&&C.d(),S(O),S(B),S(P),S(A)}}}function Ke(r){let t;return{c(){t=K("MicroController")},l(o){t=Q(o,"MicroController")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function Qe(r){let t,o="Arduino Uno",s,n,u="Arduino Mega";return{c(){t=g("option"),t.textContent=o,s=M(),n=g("option"),n.textContent=u,this.h()},l(i){t=v(i,"OPTION",{"data-svelte-h":!0}),ve(t)!=="svelte-59ddc1"&&(t.textContent=o),s=V(i),n=v(i,"OPTION",{"data-svelte-h":!0}),ve(n)!=="svelte-13ydzmb"&&(n.textContent=u),this.h()},h(){t.__value=Ce.ARDUINO_UNO,he(t,t.__value),n.__value=Ce.ARDUINO_MEGA,he(n,n.__value)},m(i,c){m(i,t,c),m(i,s,c),m(i,n,c)},p:Le,d(i){i&&(f(t),f(s),f(n))}}}function We(r){let t,o,s,n,u;t=new ue({props:{for:"boardType",$$slots:{default:[Ke]},$$scope:{ctx:r}}});function i(e){r[5](e)}let c={type:"select",id:"boardType",$$slots:{default:[Qe]},$$scope:{ctx:r}};return r[0].boardType!==void 0&&(c.value=r[0].boardType),s=new se({props:c}),j.push(()=>J(s,"value",i)),{c(){I(t.$$.fragment),o=M(),I(s.$$.fragment)},l(e){E(t.$$.fragment,e),o=V(e),E(s.$$.fragment,e)},m(e,l){D(t,e,l),m(e,o,l),D(s,e,l),u=!0},p(e,l){const p={};l&131072&&(p.$$scope={dirty:l,ctx:e}),t.$set(p);const d={};l&131072&&(d.$$scope={dirty:l,ctx:e}),!n&&l&1&&(n=!0,d.value=e[0].boardType,H(()=>n=!1)),s.$set(d)},i(e){u||(b(t.$$.fragment,e),b(s.$$.fragment,e),u=!0)},o(e){k(t.$$.fragment,e),k(s.$$.fragment,e),u=!1},d(e){e&&f(o),S(t,e),S(s,e)}}}function Xe(r){let t;return{c(){t=K("Milliseconds Per Move")},l(o){t=Q(o,"Milliseconds Per Move")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function Ye(r){let t,o,s,n,u;t=new ue({props:{for:"max-time-per-move",$$slots:{default:[Xe]},$$scope:{ctx:r}}});function i(e){r[6](e)}let c={type:"number",id:"max-time-per-move"};return r[0].maxTimePerMove!==void 0&&(c.value=r[0].maxTimePerMove),s=new se({props:c}),j.push(()=>J(s,"value",i)),{c(){I(t.$$.fragment),o=M(),I(s.$$.fragment)},l(e){E(t.$$.fragment,e),o=V(e),E(s.$$.fragment,e)},m(e,l){D(t,e,l),m(e,o,l),D(s,e,l),u=!0},p(e,l){const p={};l&131072&&(p.$$scope={dirty:l,ctx:e}),t.$set(p);const d={};!n&&l&1&&(n=!0,d.value=e[0].maxTimePerMove,H(()=>n=!1)),s.$set(d)},i(e){u||(b(t.$$.fragment,e),b(s.$$.fragment,e),u=!0)},o(e){k(t.$$.fragment,e),k(s.$$.fragment,e),u=!1},d(e){e&&f(o),S(t,e),S(s,e)}}}function Se(r){let t,o,s=[],n=new Map,u=be(Ie);const i=c=>c[14];for(let c=0;c<u.length;c+=1){let e=Ee(r,u,c),l=i(e);n.set(l,s[c]=Me(l,e))}return{c(){t=g("div"),o=g("div");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){t=v(c,"DIV",{class:!0});var e=w(t);o=v(e,"DIV",{class:!0});var l=w(o);for(let p=0;p<s.length;p+=1)s[p].l(l);l.forEach(f),e.forEach(f),this.h()},h(){h(o,"class","col color-container svelte-192s5fr"),h(t,"class","row")},m(c,e){m(c,t,e),q(t,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,null)},p(c,e){e&17&&(u=be(Ie),s=Re(s,e,i,1,c,u,n,o,Fe,Me,null,Ee))},d(c){c&&f(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Me(r,t){let o,s,n;return{key:r,first:null,c(){o=g("div"),this.h()},l(u){o=v(u,"DIV",{class:!0,style:!0,"data-color":!0,id:!0}),w(o).forEach(f),this.h()},h(){h(o,"class","color "+t[14]+" svelte-192s5fr"),Oe(o,"background-color",t[14]),h(o,"data-color",t[14]),h(o,"id",t[14]),ge(o,"selected",t[0].ledColor==t[14]),this.first=o},m(u,i){m(u,o,i),s||(n=Be(o,"click",t[4]),s=!0)},p(u,i){t=u,i&1&&ge(o,"selected",t[0].ledColor==t[14])},d(u){u&&f(o),s=!1,n()}}}function Ze(r){let t;return{c(){t=K("Touch sensor's finger color")},l(o){t=Q(o,"Touch sensor's finger color")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function xe(r){let t,o,s,n,u;t=new ue({props:{for:"touch-skin-color",$$slots:{default:[Ze]},$$scope:{ctx:r}}});function i(e){r[8](e)}let c={type:"color",id:"touch-skin-color"};return r[0].touchSkinColor!==void 0&&(c.value=r[0].touchSkinColor),s=new se({props:c}),j.push(()=>J(s,"value",i)),{c(){I(t.$$.fragment),o=M(),I(s.$$.fragment)},l(e){E(t.$$.fragment,e),o=V(e),E(s.$$.fragment,e)},m(e,l){D(t,e,l),m(e,o,l),D(s,e,l),u=!0},p(e,l){const p={};l&131072&&(p.$$scope={dirty:l,ctx:e}),t.$set(p);const d={};!n&&l&1&&(n=!0,d.value=e[0].touchSkinColor,H(()=>n=!1)),s.$set(d)},i(e){u||(b(t.$$.fragment,e),b(s.$$.fragment,e),u=!0)},o(e){k(t.$$.fragment,e),k(s.$$.fragment,e),u=!1},d(e){e&&f(o),S(t,e),S(s,e)}}}function et(r){let t;return{c(){t=K("Arduino's Background Color")},l(o){t=Q(o,"Arduino's Background Color")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function tt(r){let t,o,s,n,u;t=new ue({props:{for:"background-color",$$slots:{default:[et]},$$scope:{ctx:r}}});function i(e){r[9](e)}let c={type:"color",id:"background-color"};return r[0].backgroundColor!==void 0&&(c.value=r[0].backgroundColor),s=new se({props:c}),j.push(()=>J(s,"value",i)),{c(){I(t.$$.fragment),o=M(),I(s.$$.fragment)},l(e){E(t.$$.fragment,e),o=V(e),E(s.$$.fragment,e)},m(e,l){D(t,e,l),m(e,o,l),D(s,e,l),u=!0},p(e,l){const p={};l&131072&&(p.$$scope={dirty:l,ctx:e}),t.$set(p);const d={};!n&&l&1&&(n=!0,d.value=e[0].backgroundColor,H(()=>n=!1)),s.$set(d)},i(e){u||(b(t.$$.fragment,e),b(s.$$.fragment,e),u=!0)},o(e){k(t.$$.fragment,e),k(s.$$.fragment,e),u=!1},d(e){e&&f(o),S(t,e),S(s,e)}}}function ot(r){let t;return{c(){t=K("Save")},l(o){t=Q(o,"Save")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function st(r){let t;return{c(){t=K("Reset")},l(o){t=Q(o,"Reset")},m(o,s){m(o,t,s)},d(o){o&&f(t)}}}function lt(r){let t,o,s,n,u,i=r[0]&&De(r);function c(l){r[10](l)}let e={message:"Successfully Save."};return r[1]!==void 0&&(e.show=r[1]),o=new je({props:e}),j.push(()=>J(o,"show",c)),{c(){i&&i.c(),t=M(),I(o.$$.fragment),n=M(),this.h()},l(l){i&&i.l(l),t=V(l),E(o.$$.fragment,l),n=V(l),qe("svelte-1dwwrco",document.head).forEach(f),this.h()},h(){document.title="ElectroBlocks - Virtual Circuit"},m(l,p){i&&i.m(l,p),m(l,t,p),D(o,l,p),m(l,n,p),u=!0},p(l,[p]){l[0]?i?(i.p(l,p),p&1&&b(i,1)):(i=De(l),i.c(),b(i,1),i.m(t.parentNode,t)):i&&(Ne(),k(i,1,1,()=>{i=null}),ye());const d={};!s&&p&2&&(s=!0,d.show=l[1],H(()=>s=!1)),o.$set(d)},i(l){u||(b(i),b(o.$$.fragment,l),u=!0)},o(l){k(i),k(o.$$.fragment,l),u=!1},d(l){l&&(f(t),f(n)),i&&i.d(l),S(o,l)}}}function nt(r,t,o){let s,n,u=!1,i=null;we.subscribe($=>{o(0,n=$)});async function c(){await p(n)}async function e(){await p(ze)}function l($){o(0,n.ledColor=$.target.getAttribute("data-color"),n)}async function p($){if(He.isEqual(i,$)){o(1,u=!0),console.log("blocked saved",i,$);return}if(s)try{await Ge(s,$),console.log("saved settings",$)}catch(y){Je("Please try again in 5 minutes.",y)}we.set($),i={...$},o(1,u=!0)}Ue.subscribe($=>{s=$.uid});function d($){r.$$.not_equal(n.boardType,$)&&(n.boardType=$,o(0,n))}function W($){r.$$.not_equal(n.maxTimePerMove,$)&&(n.maxTimePerMove=$,o(0,n))}function U($){r.$$.not_equal(n.customLedColor,$)&&(n.customLedColor=$,o(0,n))}function T($){r.$$.not_equal(n.touchSkinColor,$)&&(n.touchSkinColor=$,o(0,n))}function L($){r.$$.not_equal(n.backgroundColor,$)&&(n.backgroundColor=$,o(0,n))}function G($){u=$,o(1,u)}return[n,u,c,e,l,d,W,U,T,L,G]}class kt extends Pe{constructor(t){super(),Ae(this,t,nt,lt,Te,{})}}export{kt as component};
