import{s as te,c as se,o as ae,n as ne,b as N,d as T}from"../chunks/scheduler.ydM6q-DU.js";import{S as re,i as oe,j as R,b as d,t as b,k as le,l as h,d as c,m as ie,e as g,s as P,n as S,c as v,o as k,g as fe,a as B,p as V,f as I,q as L,r as y,u as C,v as z,w as A,x as H}from"../chunks/index.DrhsS78m.js";import{B as ue}from"../chunks/Button.C-6n3gZI.js";import{F as W}from"../chunks/FormGroup.D8-lUVa-.js";import{I as Z}from"../chunks/Input.BGMucF5x.js";import{L as x}from"../chunks/Label.lKTK6TfW.js";import"../chunks/Theme.svelte_svelte_type_style_lang.B3rBZJtQ.js";import{L as ce}from"../chunks/Login.erk-ihxl.js";import{a as X,s as me,g as pe}from"../chunks/db.Dxj7bgAl.js";import{w as Y}from"../chunks/wait.CTNFjQS8.js";import{F as $e}from"../chunks/FlashMessage.ri9B07jr.js";import{o as _e}from"../chunks/alerts.DcEBuQUd.js";function de(i){let t,s,a,u="To access my profile you must login.",l,o,f;return o=new ce({}),{c(){t=g("div"),s=g("div"),a=g("p"),a.textContent=u,l=P(),S(o.$$.fragment),this.h()},l(e){t=v(e,"DIV",{class:!0});var n=k(t);s=v(n,"DIV",{class:!0});var m=k(s);a=v(m,"P",{"data-svelte-h":!0}),fe(a)!=="svelte-4ylroj"&&(a.textContent=u),l=B(m),V(o.$$.fragment,m),m.forEach(c),n.forEach(c),this.h()},h(){I(s,"class","col"),I(t,"class","row")},m(e,n){d(e,t,n),L(t,s),L(s,a),L(s,l),y(o,s,null),f=!0},p:ne,i(e){f||(h(o.$$.fragment,e),f=!0)},o(e){b(o.$$.fragment,e),f=!1},d(e){e&&c(t),C(o)}}}function ge(i){let t,s,a,u,l,o,f,e,n,m,$,_,w,E,D,G,q;a=new W({props:{$$slots:{default:[be]},$$scope:{ctx:i}}}),f=new W({props:{$$slots:{default:[we]},$$scope:{ctx:i}}}),$=new ue({props:{color:"success",type:"button",$$slots:{default:[ke]},$$scope:{ctx:i}}}),$.$on("click",i[4]);function ee(r){i[7](r)}let J={message:"Successfully Save."};return i[2]!==void 0&&(J.show=i[2]),D=new $e({props:J}),N.push(()=>z(D,"show",ee)),{c(){t=g("div"),s=g("div"),S(a.$$.fragment),u=P(),l=g("div"),o=g("div"),S(f.$$.fragment),e=P(),n=g("div"),m=g("div"),S($.$$.fragment),_=P(),w=g("div"),E=g("div"),S(D.$$.fragment),this.h()},l(r){t=v(r,"DIV",{class:!0});var p=k(t);s=v(p,"DIV",{class:!0});var F=k(s);V(a.$$.fragment,F),F.forEach(c),p.forEach(c),u=B(r),l=v(r,"DIV",{class:!0});var M=k(l);o=v(M,"DIV",{class:!0});var U=k(o);V(f.$$.fragment,U),U.forEach(c),M.forEach(c),e=B(r),n=v(r,"DIV",{class:!0});var j=k(n);m=v(j,"DIV",{class:!0});var K=k(m);V($.$$.fragment,K),K.forEach(c),j.forEach(c),_=B(r),w=v(r,"DIV",{class:!0});var O=k(w);E=v(O,"DIV",{class:!0});var Q=k(E);V(D.$$.fragment,Q),Q.forEach(c),O.forEach(c),this.h()},h(){I(s,"class","col"),I(t,"class","row"),I(o,"class","col"),I(l,"class","row"),I(m,"class","col"),I(n,"class","row"),I(E,"class","col"),I(w,"class","row")},m(r,p){d(r,t,p),L(t,s),y(a,s,null),d(r,u,p),d(r,l,p),L(l,o),y(f,o,null),d(r,e,p),d(r,n,p),L(n,m),y($,m,null),d(r,_,p),d(r,w,p),L(w,E),y(D,E,null),q=!0},p(r,p){const F={};p&513&&(F.$$scope={dirty:p,ctx:r}),a.$set(F);const M={};p&514&&(M.$$scope={dirty:p,ctx:r}),f.$set(M);const U={};p&512&&(U.$$scope={dirty:p,ctx:r}),$.$set(U);const j={};!G&&p&4&&(G=!0,j.show=r[2],T(()=>G=!1)),D.$set(j)},i(r){q||(h(a.$$.fragment,r),h(f.$$.fragment,r),h($.$$.fragment,r),h(D.$$.fragment,r),q=!0)},o(r){b(a.$$.fragment,r),b(f.$$.fragment,r),b($.$$.fragment,r),b(D.$$.fragment,r),q=!1},d(r){r&&(c(t),c(u),c(l),c(e),c(n),c(_),c(w)),C(a),C(f),C($),C(D)}}}function ve(i){let t;return{c(){t=A("Username")},l(s){t=H(s,"Username")},m(s,a){d(s,t,a)},d(s){s&&c(t)}}}function be(i){let t,s,a,u,l;t=new x({props:{for:"username",$$slots:{default:[ve]},$$scope:{ctx:i}}});function o(e){i[5](e)}let f={type:"text",id:"username"};return i[0]!==void 0&&(f.value=i[0]),a=new Z({props:f}),N.push(()=>z(a,"value",o)),{c(){S(t.$$.fragment),s=P(),S(a.$$.fragment)},l(e){V(t.$$.fragment,e),s=B(e),V(a.$$.fragment,e)},m(e,n){y(t,e,n),d(e,s,n),y(a,e,n),l=!0},p(e,n){const m={};n&512&&(m.$$scope={dirty:n,ctx:e}),t.$set(m);const $={};!u&&n&1&&(u=!0,$.value=e[0],T(()=>u=!1)),a.$set($)},i(e){l||(h(t.$$.fragment,e),h(a.$$.fragment,e),l=!0)},o(e){b(t.$$.fragment,e),b(a.$$.fragment,e),l=!1},d(e){e&&c(s),C(t,e),C(a,e)}}}function he(i){let t;return{c(){t=A("Bio")},l(s){t=H(s,"Bio")},m(s,a){d(s,t,a)},d(s){s&&c(t)}}}function we(i){let t,s,a,u,l;t=new x({props:{for:"bio",$$slots:{default:[he]},$$scope:{ctx:i}}});function o(e){i[6](e)}let f={type:"textarea",name:"text",id:"bio"};return i[1]!==void 0&&(f.value=i[1]),a=new Z({props:f}),N.push(()=>z(a,"value",o)),{c(){S(t.$$.fragment),s=P(),S(a.$$.fragment)},l(e){V(t.$$.fragment,e),s=B(e),V(a.$$.fragment,e)},m(e,n){y(t,e,n),d(e,s,n),y(a,e,n),l=!0},p(e,n){const m={};n&512&&(m.$$scope={dirty:n,ctx:e}),t.$set(m);const $={};!u&&n&2&&(u=!0,$.value=e[1],T(()=>u=!1)),a.$set($)},i(e){l||(h(t.$$.fragment,e),h(a.$$.fragment,e),l=!0)},o(e){b(t.$$.fragment,e),b(a.$$.fragment,e),l=!1},d(e){e&&c(s),C(t,e),C(a,e)}}}function ke(i){let t;return{c(){t=A("Save")},l(s){t=H(s,"Save")},m(s,a){d(s,t,a)},d(s){s&&c(t)}}}function Ie(i){let t,s,a,u;const l=[ge,de],o=[];function f(e,n){return e[3].isLoggedIn?0:1}return t=f(i),s=o[t]=l[t](i),{c(){s.c(),a=R()},l(e){s.l(e),a=R()},m(e,n){o[t].m(e,n),d(e,a,n),u=!0},p(e,[n]){let m=t;t=f(e),t===m?o[t].p(e,n):(ie(),b(o[m],1,1,()=>{o[m]=null}),le(),s=o[t],s?s.p(e,n):(s=o[t]=l[t](e),s.c()),h(s,1),s.m(a.parentNode,a))},i(e){u||(h(s),u=!0)},o(e){b(s),u=!1},d(e){e&&c(a),o[t].d(e)}}}function Ee(i,t,s){let a;se(i,X,_=>s(3,a=_));let u="",l="",o=!0,f=!1;async function e(){if(o)try{o=!1,await me(u,l,a.uid),await Y(2e3),o=!0,s(2,f=!0)}catch(_){_e("Error Saving Profile",_)}}ae(async()=>{const _=X.subscribe(async w=>{if(w.firebaseControlled){const E=await pe(w.uid);s(0,u=E.username),s(1,l=E.bio),await Y(10),_()}})});function n(_){u=_,s(0,u)}function m(_){l=_,s(1,l)}function $(_){f=_,s(2,f)}return[u,l,f,a,e,n,m,$]}class qe extends re{constructor(t){super(),oe(this,t,Ee,Ie,te,{})}}export{qe as component};
