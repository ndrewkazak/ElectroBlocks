import{M as _}from"./microcontroller.BVjUfh2V.js";import{w as M}from"./index.B_SVVHSE.js";import{d as T,a as I,k as d}from"./db.Dxj7bgAl.js";import{I as L}from"./scheduler.ydM6q-DU.js";import{_ as O}from"./lodash.CGP4lIDu.js";const u={areas:[{holes:[3,4,5,6,7,8],taken:!1,isDown:!0},{holes:[9,10,11,12,13,14],taken:!1,isDown:!0},{holes:[15,16,17,18,19,20],taken:!1,isDown:!0},{holes:[21,22,23,24,25,26],taken:!1,isDown:!0},{holes:[27,28,29,30,31,32],taken:!1,isDown:!0},{holes:[33,34,35,36,37,38],taken:!1,isDown:!0},{holes:[39,40,41,42,43,44],taken:!1,isDown:!0},{holes:[45,46,47,48,49,50],taken:!1,isDown:!0},{holes:[51,52,53,54,55,56],taken:!1,isDown:!0},{holes:[57,58,59,60,61,62],taken:!1,isDown:!0}],order:[4,6,8,3,5,7,0,1,2,3,9,10]},C={2:{color:"#5533D1",id:"ARDUINO_PIN_2"},3:{color:"#FFE600",id:"ARDUINO_PIN_3"},4:{color:"#34CE5F",id:"ARDUINO_PIN_4"},5:{color:"#CC9E37",id:"ARDUINO_PIN_5"},6:{color:"#D15F33",id:"ARDUINO_PIN_6"},7:{color:"#B637CC",id:"ARDUINO_PIN_7"},8:{color:"#5533D1",id:"ARDUINO_PIN_8"},9:{color:"#FFE600",id:"ARDUINO_PIN_9"},10:{color:"#34CE5F",id:"ARDUINO_PIN_10"},11:{color:"#CC9E37",id:"ARDUINO_PIN_11"},12:{color:"#D15F33",id:"ARDUINO_PIN_12"},13:{color:"#B637CC",id:"ARDUINO_PIN_13"},A0:{color:"#B637CC",id:"ARDUINO_PIN_A0"},A1:{color:"#CC9E37",id:"ARDUINO_PIN_A1"},A2:{color:"#34CE5F",id:"ARDUINO_PIN_A2"},A3:{color:"#5533D1",id:"ARDUINO_PIN_A3"},A4:{color:"#FFE600",id:"ARDUINO_PIN_A4"},A5:{color:"#D15F33",id:"ARDUINO_PIN_A5"}},g={analonPins:["A5","A4","A3","A2","A1","A0"],digitalPins:["2","3","4","5","6","7","8","9","10","11","12","13","A0","A1","A2","A3","A4","A5"],misoPins:["12"],mosiPins:["11"],pwmPins:["3","5","6","9","10","11","A0","A1","A2","A3","A4","A5"],sckPins:["13"],ssPins:["10"],sclPins:["A5"],sdaPins:["A4"],serial_baud_rate:9600,type:_.ARDUINO_UNO,breadboard:u,skipHoles:[6,9,13,18,22,27,31,37,41,46,51,54,58,61,56,50,44,38,32,26,20,14,8],pinConnections:C},o=s=>s.map(t=>[t,t]),f=s=>({serial_baud_rate:s.serial_baud_rate,type:s.type,pwmPins:o(s.pwmPins),digitalPins:o(s.digitalPins),analogPins:o(s.analonPins),sckPins:o(s.sckPins),sclPins:o(s.sclPins),sdaPins:o(s.sdaPins),ssPins:o(s.ssPins),misoPins:o(s.misoPins),mosiPins:o(s.mosiPins)}),A=()=>typeof window<"u";let E;try{E=A()&&localStorage.getItem("settings")?JSON.parse(localStorage.getItem("settings")):T}catch{E=T}E.boardType=E.boardType||_.ARDUINO_UNO;const i=M(E);I.subscribe(async s=>{if(s.isLoggedIn&&A())try{const t=await d(s.uid);i.set(t)}catch(t){console.log(t,"error settings")}});i.subscribe(s=>{A()&&localStorage.setItem("settings",JSON.stringify(s))});const $={subscribe:i.subscribe,set:i.set,update:i.update},w=()=>L($).boardType||_.ARDUINO_UNO;var P=(s=>(s.PURPLE="#B637CC",s.LIGHT_BROWN="#CC9E37",s.GREEN="#34CE5F",s.DEEP_PURPLE="#5533D1",s.YELLOW="#FFE600",s.ORANGE="#D15F33",s))(P||{});const R={areas:[{holes:[3,4,5,6,7,8],taken:!1,isDown:!0},{holes:[9,10,11,12,13,14],taken:!1,isDown:!0},{holes:[15,16,17,18,19,20],taken:!1,isDown:!0},{holes:[21,22,23,24,25,26],taken:!1,isDown:!0},{holes:[27,28,29,30,31,32],taken:!1,isDown:!0},{holes:[33,34,35,36,37,38],taken:!1,isDown:!0},{holes:[39,40,41,42,43,44],taken:!1,isDown:!0},{holes:[45,46,47,48,49,50],taken:!1,isDown:!0},{holes:[51,52,53,54,55,56],taken:!1,isDown:!0},{holes:[57,58,59,60,61,62],taken:!1,isDown:!0}],order:[4,6,8,3,5,7,0,1,2,3,9,10]};function S(){const s={},t=O.keys(P);for(let n=2;n<=53;n+=1){const l=n%t.length,a=P[t[l]];s[n.toString()]={color:a,id:`ARDUINO_PIN_${n}`}}for(let n=0;n<=15;n+=1){const l=n%t.length,a=P[t[l]];s[`A${n}`]={color:a,id:`ARDUINO_PIN_A${n}`}}return s}const k={analonPins:["A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12","A13","A14","A15"],digitalPins:["2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12","A13","A14","A15"],misoPins:["50"],mosiPins:["51"],pwmPins:["4","6","7","8","9","10","11","12","13","46","45","44","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12","A13","A14","A15"],sckPins:["52"],ssPins:["53"],sclPins:["21"],sdaPins:["20"],serial_baud_rate:9600,type:_.ARDUINO_MEGA,breadboard:R,skipHoles:[1,2,3,4,6,7,8,10,12,14,15,16,18,20,22,23,25,26,28,29,31,32,34,35,37,38,39,41,43,44,46,47,49,50,51,53,54,56,61],pinConnections:S()},K=s=>c[s]||c[_.ARDUINO_UNO],v=()=>{const s=w();return f(c[s])},c={uno:g,mega:k};var F=(s=>(s.PIN_1="1",s.PIN_2="2",s.PIN_3="3",s.PIN_4="4",s.PIN_5="5",s.PIN_6="6",s.PIN_7="7",s.PIN_8="8",s.PIN_9="9",s.PIN_10="10",s.PIN_11="11",s.PIN_12="12",s.PIN_13="13",s.PIN_14="14",s.PIN_15="15",s.PIN_16="16",s.PIN_17="17",s.PIN_18="18",s.PIN_19="19",s.PIN_20="20",s.PIN_21="21",s.PIN_22="22",s.PIN_23="23",s.PIN_24="24",s.PIN_25="25",s.PIN_26="26",s.PIN_27="27",s.PIN_28="28",s.PIN_29="29",s.PIN_30="30",s.PIN_31="31",s.PIN_32="32",s.PIN_33="33",s.PIN_34="34",s.PIN_35="35",s.PIN_36="36",s.PIN_37="37",s.PIN_38="38",s.PIN_39="39",s.PIN_40="40",s.PIN_41="41",s.PIN_42="42",s.PIN_43="43",s.PIN_44="44",s.PIN_45="45",s.PIN_46="46",s.PIN_47="47",s.PIN_48="48",s.PIN_49="49",s.PIN_50="50",s.PIN_51="51",s.PIN_52="52",s.PIN_53="53",s.PIN_54="54",s.PIN_A0="A0",s.PIN_A1="A1",s.PIN_A2="A2",s.PIN_A3="A3",s.PIN_A4="A4",s.PIN_A5="A5",s.PIN_A6="A6",s.PIN_A7="A7",s.PIN_A8="A8",s.PIN_A9="A9",s.PIN_A10="A10",s.PIN_A11="A11",s.PIN_A12="A12",s.PIN_A13="A13",s.PIN_A14="A14",s.PIN_A15="A15",s.NO_PINS="NO_PINS",s))(F||{});const x=["A0","A1","A2","A3","A4","A5"];var e=(s=>(s.SERVO="SERVO_COMPONENT",s.LCD_SCREEN="LCD_SCREEN_COMPONENT",s.LED_MATRIX="LED_MATRIX_COMPONENT",s.NEO_PIXEL_STRIP="NEO_PIXEL_STRIP_COMPONENT",s.FASTLED_STRIP="FASTLED_STRIP_COMPONENT",s.MOTOR="MOTOR_COMPONENT",s.PIN="PIN_COMPONENT",s.BLUE_TOOTH="BLUE_TOOTH_COMPONENT",s.LED_COLOR="LED_COLOR_COMPONENT",s.LED="LED_COMPONENT",s.WRITE_PIN="WRITE_PIN_COMPONENT",s.RFID="RFID_COMPONENT",s.BUTTON="BUTTON_COMPONENT",s.MESSAGE="MESSAGE_COMPONENT",s.TIME="TIME_COMPONENT",s.DIGITAL_SENSOR="DIGITAL_SENSOR_COMPONENT",s.ANALOG_SENSOR="ANALOG_SENSOR_COMPONENT",s.IR_REMOTE="IR_REMOTE_COMPONENT",s.ULTRASONICE_SENSOR="ULTRASONICE_SENSOR_COMPONENT",s.TEMPERATURE_SENSOR="TEMPERATURE_SENSOR_COMPONENT",s.THERMISTOR="THERMISTOR",s.PASSIVE_BUZZER="PASSIVE_BUZZER",s.STEPPER_MOTOR="STEPPER_MOTOR",s.DIGITAL_DISPLAY="DIGITAL_DISPLAY",s.JOYSTICK="JOYSTICK",s))(e||{});const j=["TEMPERATURE_SENSOR_COMPONENT","TIME_COMPONENT","BUTTON_COMPONENT","BLUE_TOOTH_COMPONENT","IR_REMOTE_COMPONENT","RFID_COMPONENT","ULTRASONICE_SENSOR_COMPONENT","MESSAGE_COMPONENT","DIGITAL_SENSOR_COMPONENT","ANALOG_SENSOR_COMPONENT","THERMISTOR","JOYSTICK"],h=s=>`${s.type}-${s.rows}-${s.columns}-${s.sdaPin}-${s.sclPin}`,B=s=>`${s.type}-${s.pins.sort().join("-")}-${s.numberOfLeds}`,G=s=>`${s.type}-${s.pins.sort().join("-")}-${s.numberOfLeds}`,b=s=>`${s.type}_${s.pictureType}_${s.redPin}_${s.greenPin}_${s.bluePin}`,p=s=>`${s.type}-${s.pin}-${s.pinType}`,D=s=>`${s.type}-${s.pictureType}-${s.pin}`,y=s=>`${s.type}-${s.pictureType}-${s.pin}`,m=s=>`${s.type}-${s.motorNumber}`,H=s=>`${s.type}_${s.color.replace("#","")}_${s.pin}`,r=s=>s.type+"_"+s.pins.sort().join("-"),N={[e.BLUE_TOOTH]:r,[e.BUTTON]:r,[e.IR_REMOTE]:r,[e.LED_MATRIX]:r,[e.MOTOR]:m,[e.MESSAGE]:()=>e.MESSAGE.toString(),[e.NEO_PIXEL_STRIP]:B,[e.FASTLED_STRIP]:G,[e.RFID]:r,[e.SERVO]:r,[e.TEMPERATURE_SENSOR]:r,[e.ULTRASONICE_SENSOR]:r,[e.LCD_SCREEN]:h,[e.LED_COLOR]:b,[e.LED]:H,[e.WRITE_PIN]:p,[e.DIGITAL_SENSOR]:D,[e.ANALOG_SENSOR]:y,[e.THERMISTOR]:r,[e.PASSIVE_BUZZER]:r,[e.STEPPER_MOTOR]:r,[e.DIGITAL_DISPLAY]:r,[e.JOYSTICK]:r,[e.TIME]:r},q=s=>{if(O.isFunction(N[s.type]))return N[s.type](s);throw new Error("No Id generator found for state type "+s.type)};export{x as A,j as S,q as a,F as b,e as c,v as d,w as e,K as g,A as i,$ as s};
